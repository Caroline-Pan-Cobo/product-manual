---
title: "注册 API Key"
sidebarTitle: "注册 API Key"
lang: "zh-hans"
description: "学习如何注册 API Key，确保安全访问您的 API。"
---

## 步骤

### 在 Cobo Portal 中注册 API Key

<Note>推荐您使用长期 API Key，并根据以下步骤设置 IP 白名单和 Callback Endpoint。</Note>

1. 登录 [Cobo Portal](https://portal.cobo.com/login)。
2. 在主菜单中点击**开发者**图标。
3. 点击 **WaaS 2.0** 标签，然后切换到 **API Keys** 标签页。
4. 点击**注册 API Key** 打开**注册 API Key** 对话框。

    <img src="/cn/images/developer-console/create_api_key.png" className="screenshot_modal" alt="注册 API Key 对话框" />

5. 输入 API Key 的名称（最多 30 个字符）。
6. 输入 API Key 和选择加密算法。API Key 是密钥对中的公钥，长度必须为 64 个字符，只能包含数字 0 至 9 和字母 A 至 F。如想了解如何使用 Ed25519 算法生成 API Key，请参阅 [Generate an API key and an API secret](https://www.cobo.com/developers/v2/guides/overview/cobo-auth#generate-an-api-key-and-an-api-secret)。
7. 在**用户角色 & 钱包范围**板块，点击**为用户角色设置钱包范围**来设置该 API key 的用户角色以及可访问的钱包范围。
8. 从对应的下拉列表中选择该 API Key 的用户角色以及可访问的钱包范围。

    <img src="/cn/images/developer-console/user_role_1.png" className="screenshot_modal" alt="设置用户角色的钱包范围对话框" />

    您可以点击**每个角色**来为每个用户角色选择不同的钱包范围。

    <img src="/cn/images/developer-console/user_role_2.png" className="screenshot_modal" alt="设置用户角色的钱包范围对话框" />

    <Note>该 API Key 将获得您所勾选的用户角色下的权限并有访问选定钱包的权限。请妥善配置角色，钱包范围尽量不要选择**任何类型钱包**。</Note>

    点击**确认**来完成配置。

9. 选择此 API Key 使用的 Callback Endpoint，或注册一个新的 Callback Endpoint。所选的 Callback Endpoint 将接收由该 API Key 触发的消息。有关更多信息，请参阅[注册 Callback Endpoint](/cn/portal/developer-console/callbacks-register)。
10. 选择 Key 类型。
    - **长期**：要使用此 Key 类型，您需要指定一个静态 IP 地址作为发送 API 请求的地址。
    - **临时**：临时 Key 在 30 天后过期。如果您还没有准备好静态 IP 地址，可以选择此选项。
11. 如果您注册的是长期 API Key，输入要列入白名单的 IP 地址（如果要列入白名单的 IP 地址不止一个，则每个 IP 地址之间用逗号隔开）。
    <Info>临时 API Key 无法设置 IP 白名单。</Info>
12. 点击**注册**。
13. 如果您注册的是临时 API Key，请在弹窗中点击**创建**。

    <img src="/cn/images/developer-console/temporary.png" className="screenshot_modal" alt="临时 API Key 对话框" />

14. 在**安全验证**对话框中，使用多重身份验证（MFA）方式验证您的身份。

    <img src="/cn/images/developer-console/verify.png" className="screenshot_modal" alt="安全验证对话框" />

身份验证成功后，您的注册 API Key 请求已提交。

### 在 Cobo Guard 中审批请求
根据您所在团队设置的[业务风控](/cn/portal/organization/governance-intro)规则，该请求可能需要特定数量的团队管理员在 Cobo Guard 上审批。您可以通过点击左下角的个人资料图标 > **团队** > **业务风控** > **开发者**查看注册 API Key 的审批规则。

<img src="/cn/images/developer-console/manage-api.png" className="screenshot_full_screen" alt="管理 API Key 审批规则" />

管理员需要打开 Cobo Guard，找到该请求对应的通知，并点击**批准**。

<img src="/cn/images/developer-console/approve.png" className="screenshot_modal" alt="批准 API Key 请求" />

当审批通过后，API Key 注册成功，您会看到该 API Key 状态变为**活跃中**。

<img src="/cn/images/developer-console/active.png" className="screenshot_full_screen" alt="API Key 活跃状态" />

<Tip>欢迎[提交您的反馈](https://forms.zohopublic.com/cobo/form/DocumentFeedbackForm/formperma/QvLOhxJv1_JMsJ-1dleZ8Itb_7rzN-LtgvsDdxosoVI?referrername=manuals)，帮助我们持续优化文档质量！</Tip>